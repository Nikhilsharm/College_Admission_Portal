<!-- Main Footer -->
<!-- <footer class="main-footer"> -->
    <!-- To the right -->
    
    <!-- Default to the left -->
    
  <!-- </footer> -->
</div>
<!-- ./wrapper -->

<!-- REQUIRED SCRIPTS -->

<!-- jQuery -->
<script src="../../plugins/jquery/jquery.min.js"></script>
<!-- Bootstrap 4 -->
<script src="../../plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- AdminLTE App -->
<script src="../../dist/js/adminlte.min.js"></script>
<!-- DataTables -->
<script src="../../plugins/datatables/jquery.dataTables.js"></script>
<script src="../../plugins/datatables-bs4/js/dataTables.bootstrap4.js"></script>
<!-- AdminLTE App -->
<script src="../../dist/js/adminlte.min.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="../../dist/js/demo.js"></script>
<!-- page script -->
<script>
  $(function () {
    $("#example1").DataTable();
    $('#example2').DataTable({
      "paging": true,
      "lengthChange": false,
      "searching": false,
      "ordering": true,
      "info": true,
      "autoWidth": false,
    });
  });
</script>
<script>

  // let isCheckingSession = false;
  
  const checksession = async () => {
    // if (isCheckingSession) return; // Prevent overlapping checks
    // isCheckingSession = true;
    try {
      const response = await fetch("/check_session", { credentials: "include" });
      // console.log(response.status)
      if (response.status == 401) {
        if (confirm("Your session has expired. Do you want to log in again?")) {
          window.location.href = "/";
        }
      }
    } catch (error) {
      console.error("Error checking session:", error.message || error);
     }// finally {
    //   isCheckingSession = false;
    // }
  };
  
   setInterval(checksession, 30000);
  </script>
</body>
</html>